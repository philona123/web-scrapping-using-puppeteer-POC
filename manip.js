const inputJson = 
  {
    "Smartee Link": "http://check.zenyumsmileplans.com/#player?playerUrl=IndicationV6%2fBKT%2fsynchkchina%2fTO%2fsyncfhk%2f5B26F471-3B19-879E-A3CA-50D9E6F31840%2f20231007131259938%2fSize%2f2097152%2fdesignpath.smapro&pdfUrl=Pdf%2fBKT%2fsynchkchina%2fTO%2fsyncfhk%2fDesignExplain%2fb0cb27f4-b564-ff11-9b9f-06c201010000%2f0-0-0-0-0-0-0-0-0-0-10515640-10-0-3-3-34-34-0-0-3-4-4-0.pdf&dataType=2&pationName=smartee",
    "DataUpper": {
      "scrappedDataTitle": {
        "moveInfo-thead": [
          "18",
          "17",
          "16",
          "15",
          "13",
          "12",
          "11",
          "21",
          "22",
          "23",
          "25",
          "26",
          "27",
          "28"
        ],
        "moveInfo-tr": [
          "0",
          "0",
          "0",
          "0",
          "0",
          "0.01 I",
          "0",
          "0.01 E",
          "0.02 I",
          "0",
          "0",
          "0",
          "0",
          "0",
          "0",
          "0",
          "0",
          "0.07 L",
          "0.12 L",
          "0.18 L",
          "0.18 L",
          "0.16 L",
          "0.12 L",
          "0.07 L",
          "0.06 L",
          "0",
          "0",
          "0",
          "0",
          "0",
          "0",
          "0.03 D",
          "0.03 M",
          "0.22 M",
          "0.22 M",
          "0.22 M",
          "0.24 M",
          "0.02 M",
          "0.01 D",
          "0",
          "0",
          "0",
          "0",
          "0",
          "0",
          "0",
          "0",
          "7.42 D",
          "1.46 D",
          "0.37 D",
          "13.7 D",
          "0",
          "0",
          "0",
          "0",
          "0",
          "0",
          "0",
          "0",
          "0",
          "0",
          "5.96 M",
          "1.41 M",
          "0.35 M",
          "9.1 M",
          "0",
          "0",
          "0",
          "0",
          "0",
          "0",
          "0",
          "0",
          "0",
          "0",
          "0.11 L",
          "3.48 L",
          "4 L",
          "1.61 B",
          "0",
          "0",
          "0",
          "0",
          "0"
        ],
        "moveInfo-thead deepColor": [
          "Upper"
        ],
        "moveInfo-tr lightColor": [
          "Extrusion(E)/Intrusion(I)",
          "Translation Mesial(M)/Distal(D)",
          "Angulation Mesial(M)/Distal(D)"
        ],
        "moveInfo-tr deepColor": [
          "Translation Buccal(B)/Lingual(L)",
          "Rotation Mesial(M)/Distal(D)",
          "Torque Buccal(B)/Lingual(L)"
        ]
      },
      "scrappedDataValue": {
        "moveInfo-thead": [],
        "moveInfo-tr": [],
        "slt moveInfo-type": [
          "Crown"
        ],
        "moveInfo-type": [
          "Root"
        ],
        "moveInfo-valType": [
          "Single Movement"
        ],
        "moveInfo-valType slt": [
          "Total Movement"
        ],
        "slt": [
          "Lower"
        ]
      }
    },
    "DataLower": {
      "scrappedDataTitle": {
        "moveInfo-thead": [
          "47",
          "46",
          "45",
          "44",
          "43",
          "42",
          "41",
          "31",
          "32",
          "33",
          "34",
          "35",
          "36",
          "37"
        ],
        "moveInfo-tr": [
          "0",
          "0",
          "0",
          "0",
          "0",
          "0.09 E",
          "0",
          "0",
          "0.13 I",
          "0",
          "0",
          "0",
          "0",
          "0",
          "0",
          "0",
          "0.02 L",
          "0.04 L",
          "0.05 L",
          "0.02 L",
          "0.05 L",
          "0.21 L",
          "0.14 L",
          "0.06 L",
          "0.04 L",
          "0.02 L",
          "0",
          "0",
          "0",
          "0",
          "0.02 D",
          "0.04 D",
          "0",
          "0.02 D",
          "0.11 M",
          "0.04 M",
          "0.11 D",
          "0.06 D",
          "0.02 D",
          "0.01 D",
          "0",
          "0",
          "0",
          "0",
          "0",
          "0",
          "7.79 M",
          "0",
          "0",
          "2.68 D",
          "0",
          "0",
          "0",
          "0",
          "0",
          "0",
          "0",
          "0",
          "0",
          "0",
          "3.4 D",
          "3.5 M",
          "0",
          "3.85 M",
          "4.5 M",
          "0",
          "0",
          "0",
          "0",
          "0",
          "0",
          "0",
          "0",
          "0",
          "0.23 B",
          "0",
          "0",
          "0.15 B",
          "0",
          "0",
          "0",
          "0",
          "0",
          "0"
        ],
        "moveInfo-thead deepColor": [
          "Lower"
        ],
        "moveInfo-tr lightColor": [
          "Extrusion(E)/Intrusion(I)",
          "Translation Mesial(M)/Distal(D)",
          "Angulation Mesial(M)/Distal(D)"
        ],
        "moveInfo-tr deepColor": [
          "Translation Buccal(B)/Lingual(L)",
          "Rotation Mesial(M)/Distal(D)",
          "Torque Buccal(B)/Lingual(L)"
        ]
      },
      "scrappedDataValue": {
        "moveInfo-thead": [],
        "moveInfo-tr": [],
        "slt moveInfo-type": [
          "Crown"
        ],
        "moveInfo-type": [
          "Root"
        ],
        "moveInfo-valType": [
          "Single Movement"
        ],
        "moveInfo-valType slt": [
          "Total Movement"
        ],
        "slt": [
          "Upper"
        ]
      }
    }
  }


function formatData(inputJson) {
  const keys = [
    "Extrusion(E)/Intrusion(I)",
    "Translation Buccal(B)/Lingual(L)",
    "Translation Mesial(M)/Distal(D)",
    "Rotation Mesial(M)/Distal(D)",
    "Angulation Mesial(M)/Distal(D)",
    "Torque Buccal(B)/Lingual(L)",
  ];

  const finalObj = {};
  const headValue = inputJson["moveInfo-thead"];
  const rowValues = inputJson["moveInfo-tr"];
  for (let i = 0; i < keys.length; i++) {
    const arr = rowValues.slice(14 * i, 14 * i + 14);
    const positionObj = {};
    for (let j = 0; j < arr.length; j++) {
      if (arr[j] != "0") {
        positionObj[headValue[j]] = arr[j];
      }
    }
    finalObj[keys[i]] = positionObj;
  }
  return finalObj;
}

const output = {
  DataUpper: formatData(inputJson.DataUpper.scrappedDataTitle),
  DataLower: formatData(inputJson.DataLower.scrappedDataTitle),
};

console.log(JSON.stringify(output));
